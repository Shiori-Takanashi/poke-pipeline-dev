# json/ ディレクトリ解説

このディレクトリには、PokeAPIから取得した生データがJSON形式で保存されています。

## ディレクトリ構成

### データの種類別フォルダ

#### ability/
ポケモンの特性（アビリティ）に関するデータです。

**ファイル形式**: `{ID番号}.json` (例: `00001.json`, `00002.json`)

**データ内容:**
- 特性の名前（多言語対応）
- 特性の説明文
- この特性を持つポケモンの一覧
- ゲーム内での効果

#### move/
ポケモンの技（わざ）に関するデータです。

**データ内容:**
- 技の名前（多言語対応）
- 技の説明文
- 威力、命中率、PP
- 技のタイプ
- 習得可能なポケモン

#### pokemon/
個々のポケモンの詳細データです。

**データ内容:**
- ポケモンの基本情報
- 種族値（HP、攻撃、防御など）
- タイプ情報
- 特性一覧
- 覚える技の情報

#### pokemon_species/
ポケモンの種族データです。

**データ内容:**
- 種族の基本情報
- 図鑑説明文（多言語・多バージョン）
- 進化チェーン情報
- 生息地情報
- フォルムバリエーション

#### pokemon_form/ と pokemon-form/
ポケモンのフォルム（姿）データです。

**データ内容:**
- フォルム固有の見た目情報
- フォルム固有の種族値
- フォルム変更条件
- スプライト画像のURL

#### type/
ポケモンのタイプ（でんき、みず等）データです。

**データ内容:**
- タイプ名（多言語対応）
- タイプ相性情報
- このタイプのポケモン一覧
- このタイプの技一覧

#### version/ と version_group/
ポケモンゲームのバージョン情報です。

**データ内容:**
- ゲームバージョン名
- 発売情報
- 世代情報
- バージョングループの関連付け

## ファイル命名規則

### 数字ID形式
```
00001.json  # ID 1のデータ
00002.json  # ID 2のデータ
...
```

- **特徴**: 5桁の0埋め形式
- **用途**: PokeAPIの数値IDに対応
- **ソート**: 辞書順でもIDの昇順になる

### 名前形式
```
bulbasaur.json      # フシギダネ
charmander.json     # ヒトカゲ
```

- **特徴**: APIでの名前をそのまま使用
- **用途**: 名前ベースでのアクセス

## データ活用方法

### 基本的な読み込み
```python
from util.io_json import read_json

# 特定のポケモンデータを読み込み
pikachu_data = read_json("json/pokemon/00025.json")

# 特性データを読み込み
ability_data = read_json("json/ability/00001.json")
```

### バッチ処理
```python
import os
from util.io_json import read_json

# 全ポケモンデータの一括処理
pokemon_dir = "json/pokemon/"
for filename in os.listdir(pokemon_dir):
    if filename.endswith(".json"):
        pokemon_data = read_json(os.path.join(pokemon_dir, filename))
        # データ処理...
```

## データ整合性

### 参照関係
- `pokemon/` → `pokemon_species/` (種族情報への参照)
- `pokemon/` → `ability/` (特性への参照)
- `pokemon/` → `type/` (タイプへの参照)
- `pokemon_species/` → `pokemon_form/` (フォームへの参照)

### データ同期
- APIから取得したデータは元の構造を保持
- 後続の処理で正規化・リレーション構築
- 元データの完全性を維持

## 容量とパフォーマンス

### ファイルサイズ
- 小さなファイル: ability/ (~1-5KB per file)
- 中程度ファイル: pokemon/ (~10-50KB per file)
- 大きなファイル: pokemon_species/ (~20-100KB per file)

### アクセスパターン
- **ランダムアクセス**: 特定IDのデータ取得
- **シーケンシャルアクセス**: 全データの一括処理
- **フィルタリング**: 条件に合うデータの抽出

## 注意点

- **データ形式**: PokeAPIの元の構造を保持
- **文字エンコーディング**: UTF-8での保存
- **更新頻度**: API更新時の差分取得が必要
- **バックアップ**: 大量のデータなので定期バックアップを推奨
